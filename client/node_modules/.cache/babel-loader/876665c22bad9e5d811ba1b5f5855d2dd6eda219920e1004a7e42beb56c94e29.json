{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/test_task_2/client/src/components/ShopingCard.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"../styles/\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ShoppingCart = ({\n  cartItems,\n  removeFromCart,\n  calculateTotal\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [{\n    isOver\n  }, drop] = useDrop({\n    accept: \"PRODUCT\",\n    drop: item => removeFromCart(item),\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  });\n  const handleBuyClick = async () => {\n    const productIds = cartItems.map(product => product._id);\n    await axios.post(`${process.env.REACT_APP_API_URL}/product/buy`, {\n      productIds\n    }, {\n      headers: {\n        Authorization: `Bearer ${sessionStorage.token}`\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        alert(\"Successfully bought.\");\n        navigate(\"/bought-products\");\n      } else {\n        alert(res.data.message);\n      }\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.shoppingCart,\n    ref: drop,\n    children: [cartItems.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: cartItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"8px\",\n          border: \"1px solid black\",\n          borderRadius: \"10px\",\n          padding: \"5px\"\n        },\n        children: [item.name, \" $\", item.price, \" \"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }, this) : null, isOver && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"30px\",\n        backgroundColor: \"yellow\"\n      },\n      children: \"Drop here!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this), cartItems.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.totalSection,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.total,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"$\", calculateTotal()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBuyClick,\n        children: \"Buy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(ShoppingCart, \"3oncOPur7wQTN63TgfzR1uXUI+g=\", false, function () {\n  return [useNavigate, useDrop];\n});\n_c = ShoppingCart;\nvar _c;\n$RefreshReg$(_c, \"ShoppingCart\");","map":{"version":3,"names":["React","useDrop","axios","useNavigate","styles","jsxDEV","_jsxDEV","ShoppingCart","cartItems","removeFromCart","calculateTotal","_s","navigate","isOver","drop","accept","item","collect","monitor","handleBuyClick","productIds","map","product","_id","post","process","env","REACT_APP_API_URL","headers","Authorization","sessionStorage","token","then","res","status","alert","data","message","catch","err","console","log","className","shoppingCart","ref","children","length","index","style","marginBottom","border","borderRadius","padding","name","price","fileName","_jsxFileName","lineNumber","columnNumber","height","backgroundColor","totalSection","total","onClick","_c","$RefreshReg$"],"sources":["/Users/admin/Desktop/test_task_2/client/src/components/ShopingCard.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from \"../styles/\";\n\nexport const ShoppingCart = ({ cartItems, removeFromCart, calculateTotal }) => {\n    const navigate = useNavigate();\n    const [{ isOver }, drop] = useDrop({\n        accept: \"PRODUCT\",\n        drop: (item) => removeFromCart(item),\n        collect: (monitor) => ({\n            isOver: !!monitor.isOver(),\n        }),\n    });\n\n    const handleBuyClick = async () => {\n        const productIds = cartItems.map((product) => product._id);\n        await axios\n            .post(\n                `${process.env.REACT_APP_API_URL}/product/buy`,\n                { productIds },\n                {\n                    headers: { Authorization: `Bearer ${sessionStorage.token}` },\n                }\n            )\n            .then((res) => {\n                if (res.status === 200) {\n                    alert(\"Successfully bought.\");\n                    navigate(\"/bought-products\");\n                } else {\n                    alert(res.data.message);\n                }\n            })\n            .catch((err) => {\n                console.log(\"err\", err);\n            });\n    };\n\n    return (\n        <div className={styles.shoppingCart} ref={drop}>\n            {cartItems.length ? (\n                <div>\n                    {cartItems.map((item, index) => (\n                        <div\n                            key={index}\n                            style={{\n                                marginBottom: \"8px\",\n                                border: \"1px solid black\",\n                                borderRadius: \"10px\",\n                                padding: \"5px\",\n                            }}\n                        >\n                            {item.name} ${item.price}{\" \"}\n                        </div>\n                    ))}\n                </div>\n            ) : null}\n            {isOver && (\n                <div style={{ height: \"30px\", backgroundColor: \"yellow\" }}>\n                    Drop here!\n                </div>\n            )}\n            {cartItems.length ? (\n                <div className={styles.totalSection}>\n                    <div className={styles.total}>\n                        <span>Total</span>\n                        <p>${calculateTotal()}</p>\n                    </div>\n                    <button onClick={handleBuyClick}>Buy</button>\n                </div>\n            ) : null}\n        </div>\n    );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}